{% extends '@Backoffice/back/baseback.html.twig' %}
{% block title %}
    Association
{% endblock %}

{% block body %}

    <h1>Association</h1>

    <table>
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ association.id }}</td>
                <td>{{ association.domaine.name }}</td>
                <td>{{ association.nomAssociation }}</td>
                <td>{{ association.manager }}</td>
                <td>{{ association.codePostal }}</td>
                <td>{{ association.ville }}</td>
                <td>{{ association.telephoneAssociation }}</td>
                <td>                                <p class="form-row form-row-wide">
                        <label for="password">Emplacement Association:
                            <div id="map" style="width: 500px; height: 300px; background-color: red"></div>
                            <input type="hidden" name="lat_association" id="lat_association" value="{{association.latitude }}" />
                            <input type="hidden" name="lng_association" id="lng_association" value="{{association.longitude }}" />
                        </label>
                    </p></td>
                <td><img height="400px" width="400px" src="{{ asset( association.photoAssociation) }}"></td>
            </tr>
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ path('association_index') }}">Back to the list</a>
        </li>
        <li>
            <a href="{{ path('association_edit', { 'id': association.id }) }}">Edit</a>
        </li>
        <li>
            {{ form_start(delete_form) }}
                <input type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </li>
    </ul>

    <script>

        function initMap() {
            var myLatLng = {lat: {{association.latitude}}, lng: {{association.longitude}}};

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 10,
                center: myLatLng
            });

            var marker = new google.maps.Marker({
                position: myLatLng,
                map: map,
                title: '{{association.ville}}'
            });




        }
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD00UW-yFHi17pDyHLe19_ImRpo0ja5Q3k&callback=initMap">
    </script>

{% endblock %}
