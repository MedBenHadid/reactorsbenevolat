{% extends '::baseback.html.twig' %}

{% block body %}
    <h1>Mission</h1>

    <table>
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ mission.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ mission.titleMission }}</td>
            </tr>
            <tr>
                <th>Picture</th>
                <td>{{ mission.picture }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ mission.description }}</td>
            </tr>
            <tr>
                <th>Location</th>
                <td>{{ mission.location }}</td>
            </tr>
            <tr>
                <th>Date Creation</th>
                <td>{% if mission.dateCreation %}{{ mission.dateCreation|date('Y-m-d H:i:s') }}{% endif %}</td>
            </tr>
            <tr>
                <th>Date Fin</th>
                <td>{% if mission.dateFin %}{{ mission.dateFin|date('Y-m-d H:i:s') }}{% endif %}</td>
            </tr>
            <tr>
                <th>CreatedBy</th>
                <td>{{ mission.CreatedBy.username }}</td>
            </tr>
        </tbody>
    </table>
    <p class="form-row form-row-wide">
        <label for="password">Emplacement Mission:
            <div id="map" style="width: 500px; height: 300px; background-color: red"></div>
            <input type="hidden" name="lat_association" id="lat_association" value="{{mission.latitude }}" />
            <input type="hidden" name="lng_association" id="lng_association" value="{{mission.longitude }}" />
        </label>
    </p>
    <ul>
        <li>
            <a href="{{ path('mission_index') }}">Back to the list</a>
        </li>
        <li>
            <a href="{{ path('mission_edit', { 'id': mission.id }) }}">Edit</a>
        </li>
        <li>
            {{ form_start(delete_form) }}
                <input type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </li>
    </ul>
    <script>

        function initMap() {
            var myLatLng = {lat: {{mission.latitude}}, lng: {{mission.longitude}}};

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 10,
                center: myLatLng
            });

            var marker = new google.maps.Marker({
                position: myLatLng,
                map: map,

            });




        }
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD00UW-yFHi17pDyHLe19_ImRpo0ja5Q3k&callback=initMap">
    </script>
{% endblock %}
